@inherits RocketCatalog.Components.RocketCatalogTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using RocketCatalog.Components;
@using DNNrocketAPI.Components;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocketModules/RocketCatalog/App_LocalResources/")

@{
    var categoryDataList = (CategoryLimpetList)Model.GetDataObject("categorydatalist");
}


<!-- Sidebar/menu -->
<div class="w3-margin-top">

    <div class=" w3-button w3-left-align " onclick="$('#searchcategoryid').val('0'); $('.dosearch').trigger('click');" style="width:100%">
        @ResourceKey("RC.all")
    </div>
    <table class="categorytree">
        @foreach (var categoryData in categoryDataList.GetCategoryTree())
        {
            var parentclass = "";
            if (categoryData.ParentItemId > 0)
            {
                parentclass = "treegrid-parent-" + categoryData.ParentItemId;
            }
            <tr class=" w3-button treegrid-@(categoryData.CategoryId)  @(parentclass)" onclick="$('#searchcategoryid').val('@(categoryData.CategoryId)'); $('.triggersearch').trigger('click');" style="width:100%">
                <td>
                    @categoryData.Name
                </td>
            </tr>
        }
    </table>
</div>

